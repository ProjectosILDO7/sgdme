import{a as me,u as Je,d as Ye,e as Ze,f as ea,g as aa,i as Te,h as F,r as $,j as u,k as ta,l as oa,w as f,m as X,o as he,n as pe,p as Be,q as Y,s as D,t as _e,v as na,x as Me,y as Ve,z as la,B as ra,C as ia,D as ua,E as sa,F as De,_ as ge,G as k,H as S,I as i,J as n,Q as da,K as Z,L as I,M as ae,N as ca,O as fa,P as va,R as de,S as ce,T as G,U as H,V as Pe,W as Ce,X as ma,Y as ha,Z as ga,$ as ba}from"./index.9b6e026f.js";import{Q as $e,a as qe,b as Se}from"./QHeader.b7ae5b05.js";import{Q as ya}from"./QSpace.1e9c00dd.js";import{Q as A}from"./QItemLabel.1b5bf3c5.js";import{Q as R,a as ee}from"./QMenu.095f5cf5.js";import{Q as Qe}from"./QList.1b4506e2.js";import{Q as ka}from"./QBtnDropdown.641bb6ef.js";import{T as fe,u as wa,a as pa,b as _a,Q as Ca}from"./QTabs.008ce516.js";import{Q as $a,a as qa,b as Sa}from"./QLayout.09699cc6.js";import{C as ve}from"./ClosePopup.c3e826b1.js";import{u as Oe}from"./use-quasar.3743795d.js";import{u as Qa}from"./userApi.446ff058.js";import"./selection.db7c3400.js";import"./rtl.b51694b1.js";const Le=150;var La=me({name:"QDrawer",inheritAttrs:!1,props:{...Je,...Ye,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ze,"onLayout","miniState"],setup(e,{slots:v,emit:s,attrs:m}){const o=Ve(),{proxy:{$q:d}}=o,y=ea(e,d),{preventBodyScroll:q}=la(),{registerTimeout:Q,removeTimeout:_}=aa(),t=Te(Me,F);if(t===F)return console.error("QDrawer needs to be child of QLayout"),F;let P,L=null,V;const g=$(e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint),w=u(()=>e.mini===!0&&g.value!==!0),h=u(()=>w.value===!0?e.miniWidth:e.width),c=$(e.showIfAbove===!0&&g.value===!1?!0:e.modelValue===!0),W=u(()=>e.persistent!==!0&&(g.value===!0||Ie.value===!0));function E(a,r){if(te(),a!==!1&&t.animate(),C(0),g.value===!0){const p=t.instances[j.value];p!==void 0&&p.belowBreakpoint===!0&&p.hide(!1),B(1),t.isContainer.value!==!0&&q(!0)}else B(0),a!==!1&&ie(!1);Q(()=>{a!==!1&&ie(!0),r!==!0&&s("show",a)},Le)}function N(a,r){xe(),a!==!1&&t.animate(),B(0),C(O.value*h.value),ue(),r!==!0?Q(()=>{s("hide",a)},Le):_()}const{show:l,hide:b}=ta({showing:c,hideOnRouteChange:W,handleShow:E,handleHide:N}),{addToHistory:te,removeFromHistory:xe}=oa(c,b,W),U={belowBreakpoint:g,hide:b},T=u(()=>e.side==="right"),O=u(()=>(d.lang.rtl===!0?-1:1)*(T.value===!0?1:-1)),be=$(0),x=$(!1),oe=$(!1),ye=$(h.value*O.value),j=u(()=>T.value===!0?"left":"right"),ne=u(()=>c.value===!0&&g.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:h.value:0),le=u(()=>e.overlay===!0||e.miniToOverlay===!0||t.view.value.indexOf(T.value?"R":"L")!==-1||d.platform.is.ios===!0&&t.isContainer.value===!0),z=u(()=>e.overlay===!1&&c.value===!0&&g.value===!1),Ie=u(()=>e.overlay===!0&&c.value===!0&&g.value===!1),Ae=u(()=>"fullscreen q-drawer__backdrop"+(c.value===!1&&x.value===!1?" hidden":"")),Fe=u(()=>({backgroundColor:`rgba(0,0,0,${be.value*.4})`})),ke=u(()=>T.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),Ne=u(()=>T.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),ze=u(()=>{const a={};return t.header.space===!0&&ke.value===!1&&(le.value===!0?a.top=`${t.header.offset}px`:t.header.space===!0&&(a.top=`${t.header.size}px`)),t.footer.space===!0&&Ne.value===!1&&(le.value===!0?a.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(a.bottom=`${t.footer.size}px`)),a}),He=u(()=>{const a={width:`${h.value}px`,transform:`translateX(${ye.value}px)`};return g.value===!0?a:Object.assign(a,ze.value)}),Re=u(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),We=u(()=>`q-drawer q-drawer--${e.side}`+(oe.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(y.value===!0?" q-drawer--dark q-dark":"")+(x.value===!0?" no-transition":c.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(le.value===!0||z.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ke.value===!0?" q-drawer--top-padding":""))),Ee=u(()=>{const a=d.lang.rtl===!0?e.side:j.value;return[[fe,Xe,void 0,{[a]:!0,mouse:!0}]]}),Ue=u(()=>{const a=d.lang.rtl===!0?j.value:e.side;return[[fe,we,void 0,{[a]:!0,mouse:!0}]]}),je=u(()=>{const a=d.lang.rtl===!0?j.value:e.side;return[[fe,we,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function re(){Ge(g,e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint)}f(g,a=>{a===!0?(P=c.value,c.value===!0&&b(!1)):e.overlay===!1&&e.behavior!=="mobile"&&P!==!1&&(c.value===!0?(C(0),B(0),ue()):l(!1))}),f(()=>e.side,(a,r)=>{t.instances[r]===U&&(t.instances[r]=void 0,t[r].space=!1,t[r].offset=0),t.instances[a]=U,t[a].size=h.value,t[a].space=z.value,t[a].offset=ne.value}),f(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&re()}),f(()=>e.behavior+e.breakpoint,re),f(t.isContainer,a=>{c.value===!0&&q(a!==!0),a===!0&&re()}),f(t.scrollbarWidth,()=>{C(c.value===!0?0:void 0)}),f(ne,a=>{M("offset",a)}),f(z,a=>{s("onLayout",a),M("space",a)}),f(T,()=>{C()}),f(h,a=>{C(),se(e.miniToOverlay,a)}),f(()=>e.miniToOverlay,a=>{se(a,h.value)}),f(()=>d.lang.rtl,()=>{C()}),f(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ke(),t.animate())}),f(w,a=>{s("miniState",a)});function C(a){a===void 0?pe(()=>{a=c.value===!0?0:h.value,C(O.value*a)}):(t.isContainer.value===!0&&T.value===!0&&(g.value===!0||Math.abs(a)===h.value)&&(a+=O.value*t.scrollbarWidth.value),ye.value=a)}function B(a){be.value=a}function ie(a){const r=a===!0?"remove":t.isContainer.value!==!0?"add":"";r!==""&&document.body.classList[r]("q-body--drawer-toggle")}function Ke(){L!==null&&clearTimeout(L),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),oe.value=!0,L=setTimeout(()=>{L=null,oe.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Xe(a){if(c.value!==!1)return;const r=h.value,p=X(a.distance.x,0,r);if(a.isFinal===!0){p>=Math.min(75,r)===!0?l():(t.animate(),B(0),C(O.value*r)),x.value=!1;return}C((d.lang.rtl===!0?T.value!==!0:T.value)?Math.max(r-p,0):Math.min(0,p-r)),B(X(p/r,0,1)),a.isFirst===!0&&(x.value=!0)}function we(a){if(c.value!==!0)return;const r=h.value,p=a.direction===e.side,K=(d.lang.rtl===!0?p!==!0:p)?X(a.distance.x,0,r):0;if(a.isFinal===!0){Math.abs(K)<Math.min(75,r)===!0?(t.animate(),B(1),C(0)):b(),x.value=!1;return}C(O.value*K),B(X(1-K/r,0,1)),a.isFirst===!0&&(x.value=!0)}function ue(){q(!1),ie(!0)}function M(a,r){t.update(e.side,a,r)}function Ge(a,r){a.value!==r&&(a.value=r)}function se(a,r){M("size",a===!0?e.miniWidth:r)}return t.instances[e.side]=U,se(e.miniToOverlay,h.value),M("space",z.value),M("offset",ne.value),e.showIfAbove===!0&&e.modelValue!==!0&&c.value===!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!0),he(()=>{s("onLayout",z.value),s("miniState",w.value),P=e.showIfAbove===!0;const a=()=>{(c.value===!0?E:N)(!1,!0)};if(t.totalWidth.value!==0){pe(a);return}V=f(t.totalWidth,()=>{V(),V=void 0,c.value===!1&&e.showIfAbove===!0&&g.value===!1?l(!1):a()})}),Be(()=>{V!==void 0&&V(),L!==null&&(clearTimeout(L),L=null),c.value===!0&&ue(),t.instances[e.side]===U&&(t.instances[e.side]=void 0,M("size",0),M("offset",0),M("space",!1))}),()=>{const a=[];g.value===!0&&(e.noSwipeOpen===!1&&a.push(Y(D("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ee.value)),a.push(_e("div",{ref:"backdrop",class:Ae.value,style:Fe.value,"aria-hidden":"true",onClick:b},void 0,"backdrop",e.noSwipeBackdrop!==!0&&c.value===!0,()=>je.value)));const r=w.value===!0&&v.mini!==void 0,p=[D("div",{...m,key:""+r,class:[Re.value,m.class]},r===!0?v.mini():na(v.default))];return e.elevated===!0&&c.value===!0&&p.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(_e("aside",{ref:"content",class:We.value,style:He.value},p,"contentclose",e.noSwipeClose!==!0&&g.value===!0,()=>Ue.value)),D("div",{class:"q-drawer-container"},a)}}}),J=me({name:"QRouteTab",props:{...ra,...wa},emits:pa,setup(e,{slots:v,emit:s}){const m=ia({useDisableForRouterLinkProps:!1}),{renderTab:o,$tabs:d}=_a(e,v,s,{exact:u(()=>e.exact),...m});return f(()=>`${e.name} | ${e.exact} | ${(m.resolvedLink.value||{}).href}`,()=>{d.verifyRouteModel()}),()=>o(m.linkTag.value,m.linkAttrs.value)}}),Ta=me({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:v,emit:s}){const{proxy:{$q:m}}=Ve(),o=Te(Me,F);if(o===F)return console.error("QFooter needs to be child of QLayout"),F;const d=$(parseInt(e.heightHint,10)),y=$(!0),q=$(ua.value===!0||o.isContainer.value===!0?0:window.innerHeight),Q=u(()=>e.reveal===!0||o.view.value.indexOf("F")!==-1||m.platform.is.ios&&o.isContainer.value===!0),_=u(()=>o.isContainer.value===!0?o.containerHeight.value:q.value),t=u(()=>{if(e.modelValue!==!0)return 0;if(Q.value===!0)return y.value===!0?d.value:0;const l=o.scroll.value.position+_.value+d.value-o.height.value;return l>0?l:0}),P=u(()=>e.modelValue!==!0||Q.value===!0&&y.value!==!0),L=u(()=>e.modelValue===!0&&P.value===!0&&e.reveal===!0),V=u(()=>"q-footer q-layout__section--marginal "+(Q.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(P.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(Q.value!==!0?" hidden":""):"")),g=u(()=>{const l=o.rows.value.bottom,b={};return l[0]==="l"&&o.left.space===!0&&(b[m.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),l[2]==="r"&&o.right.space===!0&&(b[m.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),b});function w(l,b){o.update("footer",l,b)}function h(l,b){l.value!==b&&(l.value=b)}function c({height:l}){h(d,l),w("size",l)}function W(){if(e.reveal!==!0)return;const{direction:l,position:b,inflectionPoint:te}=o.scroll.value;h(y,l==="up"||b-te<100||o.height.value-_.value-b-d.value<300)}function E(l){L.value===!0&&h(y,!0),s("focusin",l)}f(()=>e.modelValue,l=>{w("space",l),h(y,!0),o.animate()}),f(t,l=>{w("offset",l)}),f(()=>e.reveal,l=>{l===!1&&h(y,e.modelValue)}),f(y,l=>{o.animate(),s("reveal",l)}),f([d,o.scroll,o.height],W),f(()=>m.screen.height,l=>{o.isContainer.value!==!0&&h(q,l)});const N={};return o.instances.footer=N,e.modelValue===!0&&w("size",d.value),w("space",e.modelValue),w("offset",t.value),Be(()=>{o.instances.footer===N&&(o.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const l=sa(v.default,[D($a,{debounce:0,onResize:c})]);return e.elevated===!0&&l.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),D("footer",{class:V.value,style:g.value,onFocusin:E},l)}}});const Ba=De({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},routeName:{type:String,default:""},icon:{type:String,default:""}}});function Ma(e,v,s,m,o,d){return k(),S(ee,{clickable:"",to:{name:e.routeName},exact:""},{default:i(()=>[e.icon?(k(),S(R,{key:0,avatar:""},{default:i(()=>[n(da,{name:e.icon},null,8,["name"])]),_:1})):Z("",!0),n(R,null,{default:i(()=>[n(A,null,{default:i(()=>[I(ae(e.title),1)]),_:1}),n(A,{caption:""},{default:i(()=>[I(ae(e.caption),1)]),_:1})]),_:1})]),_:1},8,["to"])}var Va=ge(Ba,[["render",Ma]]);const Da=[{title:"Home",caption:"painel de controle",icon:"mdi-home",routeName:"admin"},{title:"Categorias",caption:"informa\xE7\xF5es de categorias de funcion\xE1rios",icon:"mdi-shape",routeName:"categorias"},{title:"Escolas",caption:"nforma\xE7\xF5es gerais de escolas",icon:"mdi-school",routeName:"escolas"},{title:"Funcion\xE1rios",caption:"dados de funcion\xE1rios",icon:"mdi-account-tie",routeName:"funcionarios"},{title:"Servi\xE7os",caption:"Servi\xE7os gerais",icon:"mdi-widgets",routeName:"page-service"},{title:"Configura\xE7\xF5es",caption:"Servi\xE7os gerais",icon:"mdi-cog",routeName:"form-config"}],Pa={setup(){const e=$(!1),v=Oe();return f(e,s=>{v.dark.set(s),v.localStorage.set("darkMode",s)}),he(()=>{v.localStorage.getItem("darkMode")&&(e.value=!0)}),{darkmode:e}}};function Oa(e,v,s,m,o,d){return k(),S(ca,{modelValue:m.darkmode,"onUpdate:modelValue":v[0]||(v[0]=y=>m.darkmode=y),"checked-icon":"mdi-moon-waxing-crescent",color:"black","unchecked-icon":"mdi-white-balance-sunning"},null,8,["modelValue"])}var xa=ge(Pa,[["render",Oa]]);const Ia=De({name:"MainLayout",components:{EssentialLink:Va,darkmodeChange:xa},setup(){const{getBrand:e,brand:v}=Qa(),s=$(!1),{logout:m,user:o}=fa(),d=Oe(),y=$("home"),q=va();return he(()=>{e()}),{logout:m,logoutPage:async()=>{try{d.dialog({title:"SAIR",message:"Voc\xEA realmente deseja sa\xEDr?",cancel:!0,persistent:!0}).onOk(async()=>{ce.show({message:"Sair da aplica\xE7\xE3o ..."}),await m().finally(()=>ce.hide()),q.replace({path:"/login"})})}catch(t){console.log(t.message)}finally{ce.hide()}},user:o,tab:y,essentialLinks:Da,leftDrawerOpen:s,brand:v,formConfig:()=>{q.push({name:"form-config"})},toggleLeftDrawer(){s.value=!s.value}}}}),Aa={key:0},Fa={class:"q-ml-sm"},Na={key:1},za=Pe("span",{class:"q-ml-sm"},"D.M.E",-1),Ha=[za],Ra={key:0},Wa={key:1};function Ea(e,v,s,m,o,d){const y=de("darkmode-change"),q=de("EssentialLink"),Q=de("router-view");return k(),S(qa,{view:"lHh Lpr lFf"},{default:i(()=>[n(Se,{bordered:"",class:"bg-primary-3 text-white"},{default:i(()=>[n($e,null,{default:i(()=>[n(qe,null,{default:i(()=>[n(G,{color:"white","text-color":"brown-5",icon:"mdi-school-outline"}),e.brand.name?(k(),H("span",Aa,[Pe("span",Fa,ae(e.brand.name),1)])):(k(),H("span",Na,Ha))]),_:1}),n(ya),n(y),n(Ce,{dense:"",flat:"",class:"q-ml-sm",icon:"mdi-power",onClick:e.logoutPage},null,8,["onClick"])]),_:1})]),_:1}),e.$q.platform.is.desktop?(k(),S(Se,{key:0,elevated:""},{default:i(()=>[n($e,null,{default:i(()=>[n(Ce,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),n(qe,null,{default:i(()=>[e.brand.name?(k(),H("span",Ra,ae(e.brand.name),1)):(k(),H("span",Wa,"D.M.E"))]),_:1}),n(y),e.user&&e.$q.platform.is.desktop?(k(),S(ka,{key:0,flat:"",icon:"person",label:e.user.user_metadata.name},{default:i(()=>[n(Qe,null,{default:i(()=>[Y((k(),S(ee,{clickable:"",onClick:e.onItemClick},{default:i(()=>[n(R,null,{default:i(()=>[n(A,null,{default:i(()=>[n(G,{icon:"mdi-lock-open-plus"}),I(" Permis\xE3o ")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[ve]]),Y((k(),S(ee,{clickable:"",onClick:e.formConfig},{default:i(()=>[n(R,null,{default:i(()=>[n(A,null,{default:i(()=>[n(G,{icon:"mdi-cog"}),I(" Configura\xE7\xF5es")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[ve]]),n(ma),Y((k(),S(ee,{clickable:"",onClick:e.logoutPage},{default:i(()=>[n(R,null,{default:i(()=>[n(A,null,{default:i(()=>[n(G,{icon:"mdi-logout"}),I("Sair")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[ve]])]),_:1})]),_:1},8,["label"])):Z("",!0)]),_:1})]),_:1})):Z("",!0),n(La,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":v[0]||(v[0]=_=>e.leftDrawerOpen=_),"show-if-above":"",bordered:""},{default:i(()=>[n(Qe,null,{default:i(()=>[n(A,{header:""},{default:i(()=>[I(" Menu ")]),_:1}),(k(!0),H(ga,null,ha(e.essentialLinks,_=>(k(),S(q,ba({key:_.title},_),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),n(Sa,null,{default:i(()=>[n(Q)]),_:1}),e.$q.platform.is.mobile?(k(),S(Ta,{key:1,bordered:"",class:"bg-grey-3 text-primary"},{default:i(()=>[n(Ca,{"no-caps":"","active-color":"primary","indicator-color":"transparent",class:"text-primary-8",modelValue:e.tab,"onUpdate:modelValue":v[1]||(v[1]=_=>e.tab=_),"narrow-indicator":"",align:"justify",dense:""},{default:i(()=>[n(J,{name:"home",label:"Home",icon:"mdi-home",to:{name:"admin"}}),n(J,{name:"services",label:"Cadastros",icon:"mdi-database-cog-outline",to:{name:"services-page"}}),n(J,{name:"services",label:"servi\xE7os",icon:"mdi-widgets",to:{name:"page-service"}}),n(J,{name:"config",label:"Configura\xE7\xF5es",icon:"mdi-cog",to:{name:"form-config"}})]),_:1},8,["modelValue"])]),_:1})):Z("",!0)]),_:1})}var it=ge(Ia,[["render",Ea]]);export{it as default};
