import{_ as p,O as f,P as h,bm as w,r as y,G as _,H as g,I as o,S as u,J as a,bn as P,V as i,aW as Q,Q as b,W as r}from"./index.a4d1c877.js";import{Q as v}from"./QForm.e83334a8.js";import{Q as q}from"./QPage.22e05b87.js";import{a as x,b as k}from"./QLayout.f07b5e25.js";import{u as S}from"./use-quasar.0909d49a.js";import{u as V}from"./useNotify.e5d3c9bb.js";const B={name:"form-login",setup(){const{resetPassword:n}=f(),{notifyError:t,notifySuccess:l}=V();S();const e=h(),c=w().query.token,s=y("");return{password:s,updatePassword:async()=>{try{u.show({message:"Porfavor aguarde..."}),await n(c,s.value),e.push({name:"loginPage"}),l("Senha alterada com sucesso")}catch(m){t(m.message)}finally{u.hide()}}}}},U=i("p",{class:"col-12 text-h5 text-center q-mt-lg"},"Redefini\xE7\xE3o de senha",-1),C={class:"col-md-4 col-sm-6 col-xs-10 q-gutter-y-sm"};function E(n,t,l,e,d,c){return _(),g(x,null,{default:o(()=>[a(k,null,{default:o(()=>[a(q,{padding:""},{default:o(()=>[a(v,{class:"row justify-center",onSubmit:P(e.updatePassword,["prevent"])},{default:o(()=>[U,i("div",C,[a(Q,{outlined:"",modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=s=>e.password=s),label:"Senha",class:"col-12",type:"password","lazy-rules":"",rules:[s=>s&&s.length>=6||"Porfavor digite a sua nova senha"]},{prepend:o(()=>[a(b,{name:"mdi-key-chain"})]),_:1},8,["modelValue","rules"]),a(r,{type:"submit",label:"Enviar nova senha",class:"full-width q-mt-lg",color:"primary","no-caps":"",icon:"lock"}),a(r,{to:{name:"resetPassword"},flat:"",label:"Esqueci minha senha",class:"full-width q-mt-md",color:"primary","no-caps":""}),a(r,{to:{name:"createUser"},flat:"",label:"Criar uma conta",class:"full-width q-mt-md",color:"primary","no-caps":""})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var F=p(B,[["render",E]]);export{F as default};
