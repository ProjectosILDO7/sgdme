import{_ as lo,r as d,P as no,o as ao,R as io,G as i,H as r,I as a,J as l,X as h,U as I,aW as m,Q as v,T as R,W as u,K as s,V as t,Y as to,Z as ro,bj as z,aS as B,aR as Q,L as _,bB as G,aQ as L,q as y,bn as so,$ as g,M as j}from"./index.7da21d26.js";import{Q as mo,a as S}from"./QTable.225f2f0b.js";import{Q as co}from"./QImg.821c03bd.js";import{a as N,Q as C}from"./QMenu.545f9e0e.js";import{Q as x}from"./QItemLabel.4cc82bad.js";import{Q as J}from"./QList.5aa8713a.js";import{Q as uo}from"./QBtnDropdown.70c8e690.js";import{Q as q}from"./QSelect.4dd9846d.js";import{Q as fo}from"./QForm.21c64c1f.js";import{Q as po}from"./QPage.662efc68.js";import{a as go,b as _o}from"./QLayout.e394a839.js";import{C as D}from"./ClosePopup.aa842e5d.js";import{b as Io}from"./btnBackPage.98ad7303.js";import{u as bo}from"./userApi.671e77b5.js";import{u as Vo}from"./use-quasar.cb56f3dc.js";import{u as vo}from"./useNotify.5e9e3566.js";import{h as yo}from"./moment.40bc58bf.js";import{i as Co}from"./inputVisual.14accdd7.js";import"./use-fullscreen.9289527c.js";import"./selection.9e1f0781.js";import"./rtl.b51694b1.js";const Do=[{name:"img_url",label:"Imagem",align:"left",field:"img_url",sortable:!0},{name:"nome",label:"Nome completo",align:"left",field:"nome",sortable:!0},{name:"num_agente",label:"N\xBA de agente",align:"left",field:"num_agente",sortable:!0},{name:"options",label:"Op\xE7\xF5es",align:"left",field:"options",sortable:!0}],ko={name:"DocRH",components:{btnBackPage:Io},setup(){const c=d(""),n=yo(),w=no(),e=d(),k="funcionarios";vo();const P=Vo(),M=d([]),o=d(!1),f=d(null),E=d(null),U=d(!1),b=d({}),W=d(null),K=d(["Director Municipal","Director Interino"]),X=d(["Chefe da Sec\xE7\xE3o do P.E.R.H","Interino(a)"]),Y=d({}),p=d({tipoTermo:"",chef_PERH:"",chef_PERH_interino:"",chef_PERH_interino_funcao:"",directoMunicipal:"",directoMunicipal_interino:"",directoMunicipal_interino_funcao:"",escola_id:"",provincia:"",municipio:""}),T=d(!0),H=d([]),Z=d("");d("");const{getFuncionariosWithCategoriasAndEscolas:$,getFuncionarioWithCategoriasAndEscolas:A,list:oo}=bo();ao(()=>{eo(),F()});const F=async()=>{M.value=await oo("escolas")},eo=async()=>{try{P.loading.show("Carregando funcion\xE1rios..."),H.value=await $(k)}catch(V){console.log(V.message)}finally{P.loading.hide()}};return{columns:Do,filter:c,rows:H,printDoc:async()=>{p.value?typeof p.value=="object"?w.push({name:"docPrint",params:{dados:JSON.stringify(b.value),addInfo:JSON.stringify(p.value),model2:E.value,model:f.value}}):console.error("addInfo.value \xE9 um array vazio ou n\xE3o \xE9 um array"):console.error("addInfo.value ou idFunc.value est\xE1 undefined")},printDoc2:async()=>{p.value?typeof p.value=="object"?w.push({name:"docPrint2",params:{dados:JSON.stringify(b.value),addInfo:JSON.stringify(p.value),model2:E.value,model:f.value}}):console.error("addInfo.value \xE9 um array vazio ou n\xE3o \xE9 um array"):console.error("addInfo.value est\xE1 undefined")},modal:o,modal2:U,listarEscolas:F,docPdf:T,escolas:M,inputConfig:Co,addInfoDoc:()=>{T.value=!1},addInfo:p,options:K,options2:X,model:f,model2:E,modelIntegrante:W,data:Z,dataActual:n,infoFuncionario:Y,OpenModal:async V=>{U.value=!1,o.value=!0;try{b.value=await A(k,V)}catch(O){console.log(O.message)}},OpenModal2:async V=>{o.value=!1,U.value=!0;try{b.value=await A(k,V)}catch(O){console.log(O.message)}},dados:b,escola_id:e}}},Mo=t("p",{class:"text-body1"},[_(" Documentos: "),t("i",null,"Termos de In\xEDcio de fun\xE7\xF5es & Guias de coloca\xE7\xF5es")],-1),Qo={key:0,class:"q-pa-md"},xo={class:"row text-body3 text-h5 flex-center q-pa-lg bg-secondary text-white"},qo=["src"],wo={class:"secondary"},Po={key:0,class:"text-h6"},Eo=t("b",null,"TERMO DE IN\xCDCIO DE FUN\xC7\xD5ES",-1),Uo={key:1,class:"text-small col-12 text-center"},Oo=t("p",null,[t("b",null,"TERMO DE IN\xCDCIO DE FUN\xC7\xD5ES")],-1),ho={class:"row col text-justify"},Ro=t("b",{class:"col-12 text-center"},"Asinaturas",-1),So={class:"q-gutter-sm col-12"},No={key:0,class:"text-h6"},To=t("b",null,"GUIA DE COLOCA\xC7\xC3O",-1),Ho={key:1,class:"text-small col-12 text-center"},Ao=t("p",null,[t("b",null,"GUIA DE COLOCA\xC7\xC3Os")],-1),Fo={class:"row col-12 text-justify"},zo=t("b",{class:"col-12 text-center"},"Asinaturas",-1),Bo={class:"q-gutter-sm col-12"};function Go(c,n,w,e,k,P){const M=io("btn-back-page");return i(),r(go,null,{default:a(()=>[l(_o,null,{default:a(()=>[l(po,{padding:""},{default:a(()=>[Mo,l(M),l(h),c.$q.platform.is.desktop&&e.docPdf?(i(),I("div",Qo,[l(mo,{dense:"",flat:"",rows:e.rows,columns:e.columns,"row-key":"name",filter:e.filter},{"top-right":a(()=>[l(S,null,{default:a(()=>[l(m,{outlined:"",dense:"",label:"Procurar",autofocus:"",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=o=>e.filter=o),hint:"Procure por n\xBA de agente ou nome"},{prepend:a(()=>[l(v,{name:"mdi-magnify"})]),_:1},8,["modelValue"])]),_:1})]),"body-cell-img_url":a(o=>[l(S,{props:o},{default:a(()=>[l(R,{square:""},{default:a(()=>[l(co,{src:o.row.img_url},null,8,["src"])]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-options":a(o=>[l(S,{props:o,class:"q-gutter-sm"},{default:a(()=>[l(u,{dense:"",size:"sm",icon:"mdi-file-document-outline",label:"Guia de coloca\xE7\xE3o",color:"primary",onClick:f=>e.OpenModal2(o.row.id)},null,8,["onClick"]),l(u,{dense:"",size:"sm",icon:"mdi-file-document-outline",label:"Termo de in\xEDcio de fun\xE7\xF5es",color:"primary",onClick:f=>e.OpenModal(o.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])])):s("",!0),c.$q.platform.is.mobile&&e.rows!=""&&e.docPdf?(i(),r(J,{key:1,bordered:""},{default:a(()=>[t("div",xo,[l(u,{flat:"",icon:"mdi-account-tie",label:"Funcion\xE1rios"})]),l(h),(i(!0),I(ro,null,to(e.rows,o=>(i(),r(N,{key:o.id,class:"q-mb-sm q-mt-sm"},{default:a(()=>[l(C,{avatar:""},{default:a(()=>[o.img_url?(i(),r(R,{key:0},{default:a(()=>[t("img",{src:o.img_url},null,8,qo)]),_:2},1024)):(i(),r(R,{key:1,color:"grey","text-color":"white",icon:"mdi-image-off"}))]),_:2},1024),l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[_(j(o.nome),1)]),_:2},1024),l(x,{caption:"",lines:"1"},{default:a(()=>[_("N\xBA de agente: "),t("strong",wo,j(o.num_agente),1)]),_:2},1024)]),_:2},1024),l(C,{side:"",top:""},{default:a(()=>[t("div",null,[l(uo,{flat:"","dropdown-icon":"mdi-dots-vertical","no-icon-animation":""},{default:a(()=>[l(J,null,{default:a(()=>[y((i(),r(N,{clickable:"",onClick:f=>c.alterarItem(o)},{default:a(()=>[l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[l(u,{dense:"",flat:"",size:"sm",icon:"mdi-file-document-outline",color:"green-10",label:"Guia de coloca\xE7ao",onClick:f=>e.OpenModal2(o.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[D]]),y((i(),r(N,{clickable:""},{default:a(()=>[l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[l(u,{dense:"",flat:"",size:"sm",label:"Termo de fun\xE7\xE3o",icon:"mdi-file-document-outline",color:"blue-grey-8",onClick:f=>e.OpenModal(o.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[D]])]),_:2},1024)]),_:2},1024)])]),_:2},1024),l(h)]),_:2},1024))),128))]),_:1})):s("",!0),l(z,{modelValue:e.modal,"onUpdate:modelValue":n[12]||(n[12]=o=>e.modal=o)},{default:a(()=>[l(B,{style:{width:"700px","max-width":"80vw"}},{default:a(()=>[l(Q,null,{default:a(()=>[c.$q.platform.is.desktop?(i(),I("div",Po,[l(v,{name:"mdi-cloud-print"}),_(" Documento:"),Eo])):s("",!0),c.$q.platform.is.mobile?(i(),I("div",Uo,[l(v,{name:"mdi-cloud-print"}),_(" Documento: "),Oo])):s("",!0)]),_:1}),l(Q,{class:"q-pt-none"},{default:a(()=>[t("div",ho,[l(G,{size:"xs",modelValue:e.addInfo.tipoTermo,"onUpdate:modelValue":n[1]||(n[1]=o=>e.addInfo.tipoTermo=o),val:"",label:"Novo Termo",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue"]),l(G,{size:"sm",modelValue:e.addInfo.tipoTermo,"onUpdate:modelValue":n[2]||(n[2]=o=>e.addInfo.tipoTermo=o),val:" - RECONSTITUI\xC7\xC3O",label:"Actualizar termo",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue"]),Ro,t("div",So,[l(q,{outlined:"",dense:"",modelValue:e.model,"onUpdate:modelValue":n[3]||(n[3]=o=>e.model=o),options:e.options,label:"Quem assinar\xE1 o termo ?",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue","options"]),e.model=="Director Municipal"?(i(),r(m,{key:0,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal,"onUpdate:modelValue":n[4]||(n[4]=o=>e.addInfo.directoMunicipal=o),label:"Informe o nome do Director Municipal",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model=="Director Interino"?(i(),r(m,{key:1,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino,"onUpdate:modelValue":n[5]||(n[5]=o=>e.addInfo.directoMunicipal_interino=o),label:"Informe o nome do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model=="Director Interino"?(i(),r(m,{key:2,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino_funcao,"onUpdate:modelValue":n[6]||(n[6]=o=>e.addInfo.directoMunicipal_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),l(q,{outlined:"",dense:"",modelValue:e.model2,"onUpdate:modelValue":n[7]||(n[7]=o=>e.model2=o),options:e.options2,label:"Integrante da assinatura",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue","options"]),e.model2=="Chefe da Sec\xE7\xE3o do P.E.R.H"?(i(),r(m,{key:3,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH,"onUpdate:modelValue":n[8]||(n[8]=o=>e.addInfo.chef_PERH=o),label:"Informe o nome do Chefe de sec\xE7\xE3o",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model2=="Interino(a)"?(i(),r(m,{key:4,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH_interino,"onUpdate:modelValue":n[9]||(n[9]=o=>e.addInfo.chef_PERH_interino=o),label:"Informe o nome do Chefe de Sec\xE7\xE3o Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model2=="Interino(a)"?(i(),r(m,{key:5,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH_interino_funcao,"onUpdate:modelValue":n[10]||(n[10]=o=>e.addInfo.chef_PERH_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Chefe de Secc\xE3o Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0)])])]),_:1}),l(L,{align:"right",class:"bg-white text-teal"},{default:a(()=>[y(l(u,{flat:"",icon:"mdi-close",label:"Cancelar"},null,512),[[D]]),y(l(u,{flat:"",icon:"mdi-cloud-print",label:"Documento",onClick:n[11]||(n[11]=o=>e.printDoc())},null,512),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(z,{modelValue:e.modal2,"onUpdate:modelValue":n[20]||(n[20]=o=>e.modal2=o)},{default:a(()=>[l(B,{style:{width:"700px","max-width":"80vw"}},{default:a(()=>[l(fo,{onSubmit:so(e.printDoc2,["prevent"])},{default:a(()=>[l(Q,null,{default:a(()=>[c.$q.platform.is.desktop?(i(),I("div",No,[l(v,{name:"mdi-cloud-print"}),_(" Documento: "),To])):s("",!0),c.$q.platform.is.mobile?(i(),I("div",Ho,[l(v,{name:"mdi-cloud-print"}),_(" Documento: "),Ao])):s("",!0)]),_:1}),l(Q,{class:"q-pt-none"},{default:a(()=>[t("div",Fo,[l(m,g({class:"q-mt-md col-12",label:"Provincia a que pertence a direc\xE7\xE3o",dense:""},{...e.inputConfig},{modelValue:e.addInfo.provincia,"onUpdate:modelValue":n[13]||(n[13]=o=>e.addInfo.provincia=o),rules:[o=>o&&!!o||"Porfavor informe o nome da prov\xEDncia"]}),null,16,["modelValue","rules"]),l(m,g({class:"q-mt-sm col-12",label:"Munic\xEDpio a que pertence a Direc\xE7ao",dense:""},{...e.inputConfig},{modelValue:e.addInfo.municipio,"onUpdate:modelValue":n[14]||(n[14]=o=>e.addInfo.municipio=o),rules:[o=>o&&!!o||"Porfavor informe o Munic\xEDpio"]}),null,16,["modelValue","rules"]),l(q,g({modelValue:e.addInfo.escola_id,"onUpdate:modelValue":n[15]||(n[15]=o=>e.addInfo.escola_id=o),options:e.escolas,"option-value":"nome","option-label":"nome","map-options":"","emit-value":"",label:"Selecione a escola onde ser\xE1 colocado",rules:[o=>o&&!!o||"Porfavor a escola a que pertence"]},{...e.inputConfig},{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12 q-mt-sm"}),null,16,["modelValue","options","rules"]),zo,t("div",Bo,[l(q,g({outlined:"",dense:"",modelValue:e.model,"onUpdate:modelValue":n[16]||(n[16]=o=>e.model=o),options:e.options,label:"Quem assinar\xE1 o termo ?",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor selecione quem assinar\xE1 o documento"]}),null,16,["modelValue","options","rules"]),e.model=="Director Municipal"?(i(),r(m,g({key:0,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal,"onUpdate:modelValue":n[17]||(n[17]=o=>e.addInfo.directoMunicipal=o),label:"Informe o nome do Director Municipal",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe o nome do Director Municipal"]}),null,16,["modelValue","rules"])):s("",!0),e.model=="Director Interino"?(i(),r(m,g({key:1,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino,"onUpdate:modelValue":n[18]||(n[18]=o=>e.addInfo.directoMunicipal_interino=o),label:"Informe o nome do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe o nome do Director em Interino"]}),null,16,["modelValue","rules"])):s("",!0),e.model=="Director Interino"?(i(),r(m,g({key:2,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino_funcao,"onUpdate:modelValue":n[19]||(n[19]=o=>e.addInfo.directoMunicipal_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe a fun\xE7\xE3o do DIrector Interino"]}),null,16,["modelValue","rules"])):s("",!0)])])]),_:1}),l(L,{align:"right",class:"bg-white text-teal"},{default:a(()=>[y(l(u,{flat:"",icon:"mdi-close",label:"Cancelar"},null,512),[[D]]),l(u,{type:"submit",flat:"",icon:"mdi-cloud-print",label:"Gerar Guia de Coloca\xE7\xE3o"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}var Ie=lo(ko,[["render",Go]]);export{Ie as default};
